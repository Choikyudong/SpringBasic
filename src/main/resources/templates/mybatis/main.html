<html xmlns:th="http://www.thymeleaf.org">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Mybatis 체험</h1>
<p>밑의 데이터 예시입니다.</p>
<table>
    <th>id</th>
    <th>email</th>
    <th>password</th>
    <th>name</th>
    <th>phone</th>
    <tr th:each="i : ${table}">
        <td th:text="${i.id}"></td>
        <td th:text="${i.email}"></td>
        <td th:text="${i.password}"></td>
        <td th:text="${i.name}"></td>
        <td th:text="${i.phone}"></td>
    </tr>
</table>
<hr/>
<p>Mybatis(마이바티스)는 자바로 RDBMS를 좀 더 쉽게 사용할 수 있도록 도와주는 <strong>프레임워크</strong>이다.<br/>
    맵핑을 할때 ${}, #{} 이렇게 2가지가 있는데 주로 #{}을 사용한다.<br/>
    차이점은 #으로 맵핑을 하면 입력값이 자동으로 String으로 변하고<br/>
    $은 입력한값 그대로 들어간다. 그래서 $은 주로 컬럼명을 사용할 때 쓴다고 한다.<br/>
    <strong>#은 PreparedStatement이고 $은 Statement을 의미한다고 한다.</strong></p>
<h3>아래에서 Mybatis를 이용해서 간단한 맵핑을 해보자.</h3>
<hr/>
<p>데이터 하나만 가져오기</p>
<form action="selectOne" method="get">
    <input type="text" name="id" placeholder="id값을 확인하여 가져와요"/>
    <input type="submit" value="데이터 전송"/>
</form>
<div th:if="${result == null}"><p>가지고오신 데이터가 없습니다.</p></div>
<div th:if="${result != null}"><p th:text="${result}"></p></div>
<hr/>
<p>데이터 추가하기</p>
<form action="saveData" method="post">
    <input type="text" name="email" placeholder="email"/>
    <input type="text" name="password" placeholder="password"/>
    <input type="text" name="name" placeholder="name"/>
    <input type="text" name="phone" placeholder="phone"/>
    <input type="submit" value="데이터 전송"/>
</form>
<hr/>
<h3>간단하게 하나의 데이터만 수정을 해보자</h3>
<p>데이터 수정하기</p>
<form action="updateData" method="post">
    <input type="text" name="email" placeholder="수정하고 싶은 이메일을 입력"/>
    <input type="text" name="password" placeholder="password"/>
    <input type="submit" value="데이터 전송"/>
</form>
<hr/>
<h3>원하는 데이터를 삭제하기</h3>
<p>데이터 삭제하기</p>
<form action="deleteData" method="post">
    <input type="text" name="email" placeholder="삭제하고 싶은 이메일을 입력"/>
    <input type="submit" value="데이터 전송"/>
</form>
</body>
</html>